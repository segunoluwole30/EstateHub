<!DOCTYPE html>
<html>
<head>
    <title>Contractors</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='startup.css') }}">
</head>
<body>
    <h1>Contractors</h1>
    <table>
        <tr>
            <th>Contractor ID</th>
            <th>Contractor Name</th>
            <th>Contractor Phone</th>
            <th>Actions</th>
        </tr>
        {% for contractor in contractors %}
        <tr>
            <td>{{ contractor.contractor_id }}</td>
            <td>{{ contractor.contractor_name }}</td>
            <td>{{ contractor.contractor_phone }}</td>
            <td>
                <a href="/contractors/update/{{ contractor.contractor_id }}">Update</a>
                <a href="/contractors/delete/{{ contractor.contractor_id }}" onclick="return confirmDelete();">Delete</a>
                <script>
                    function confirmDelete() {
                        return confirm("Are you sure you want to delete this Contractor? If so, make sure to go to the Contracts page before and if this Contractor has contracts reassign them to another Contractor!");
                    }
                </script>
            
            </td>
        </tr>
        {% endfor %}
    </table>
    <div id="filter">
        <form class="crud" method="POST" action="/contractors/filter" style="display: flex; flex-direction: row;">
            <label for="contractor_id">Contractor ID:</label>
            <input type="number" name="contractor_id">
            <br>
            <input type="submit" value="Filter">
        </form>
        <a href="/contractors"><button>Reset Filter</button></a><br>
    </div>
    
    <a href="/contractors/create"><button>Create New Contractor</button></a>
    <br>
    <a href="/startup"><button>Back to EstateHub Home</button></a>
</body>
</html>

